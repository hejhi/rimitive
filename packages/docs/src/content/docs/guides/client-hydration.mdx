---
title: Client Hydration
description: Make server-rendered HTML interactive with hydration.
---

import { Aside } from '@astrojs/starlight/components';

This guide covers hydrating server-rendered HTML on the client. Read [Server Rendering](/guides/server-rendering) first to set up the server side.

---

## What is Hydration?

Hydration attaches your app's reactivity to existing DOM elements without recreating them.

---

## Setting Up Hydration

The key is `createHydrationAdapter()`, which takes a hydration adapter as the first argument and the fallback DOM adapter as the second:

```typescript
// client.ts
import { createDOMAdapter } from '@rimitive/view/adapters/dom';
import {
  createDOMHydrationAdapter,
  createHydrationAdapter,
} from '@rimitive/ssr/client';
import { createService } from './service.js';
import { App } from './App.js';

// ðŸ‘‡ Create hydration adapter that walks existing DOM
const hydrationAdapter = createHydrationAdapter(
  createDOMHydrationAdapter(document.querySelector('.app')!),
  // Falls back after hydration!
  createDOMAdapter()
);

// Create your service as usual on the client
const service = createService(hydrationAdapter);

// Hydrate - walks existing DOM, wires up reactivity
App(service).create(service);

// Switch to the fallback normal DOM mode for future updates
hydrationAdapter.switchToFallback();
```

<Aside type="tip" title="Working Example">
See [`packages/examples/ssr-router/src/client.ts`](https://github.com/hejhi/rimitive/tree/main/packages/examples/ssr-router/src/client.ts) for the complete client setup.
</Aside>

---

## Browser-Only Code

Guard browser-specific code. See [Intro to SSR](/guides/intro-to-ssr) for details.

---

If you have no asynchronous data to fetch and load on the server, this might be enough for your use case and you can stop here. Otherwise, onwards to async.

## Next Steps

This covers basic hydration for synchronous SSR. For async data:

- **[SSR with Data Loading](/guides/ssr-loading)** â€” Fetch data during SSR with `load()`
- **[Streaming SSR](/guides/streaming-ssr)** â€” Send HTML progressively as data loads
