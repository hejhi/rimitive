---
title: "Batch() function"
sidebar:
  label: "Batch()"
  badge:
    text: "fn"
    variant: "tip"
---

<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](../) &gt; [@lattice/signals](./) &gt; Batch

## Batch() function

Create a Batch service factory.

Batch groups multiple signal writes into a single update cycle, preventing intermediate effect executions.

\*\*Most users should use the preset instead:\*\*

```ts
import { createSignalsSvc } from '@lattice/signals/presets/core';
const { batch } = createSignalsSvc();
```

**Signature:**

```typescript
Batch: (args_0?: BatchOptions | undefined) => import("@lattice/lattice").Service<BatchFactory, BatchDeps>
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

args\_0


</td><td>

[BatchOptions](./batchoptions/) \| undefined


</td><td>

_(Optional)_


</td></tr>
</tbody></table>

**Returns:**

import("@lattice/lattice").[Service](../lattice/service/)<!-- -->&lt;[BatchFactory](./batchfactory/)<!-- -->, BatchDeps&gt;

## Example 1

Avoiding intermediate updates

```ts
const { signal, effect, batch } = createSignalsSvc();

const a = signal(0);
const b = signal(0);

effect(() => console.log(a() + b())); // logs: 0

// Without batch: logs twice (1, then 3)
a(1);
b(2);

// With batch: logs once (6)
batch(() => {
  a(2);
  b(4);
});
```

## Example 2

Nested batches

```ts
batch(() => {
  a(1);
  batch(() => {
    b(2);
    c(3);
  });
  d(4);
}); // All updates flush at outermost batch end
```

## Example 3

With return value

```ts
const result = batch(() => {
  count(count() + 1);
  return count();
});
console.log(result); // New count value
```

