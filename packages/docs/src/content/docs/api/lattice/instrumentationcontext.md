---
title: "InstrumentationContext type"
sidebar:
  label: "InstrumentationContext"
  badge:
    text: "type"
    variant: "note"
---

<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](../) &gt; [@lattice/lattice](./) &gt; InstrumentationContext

## InstrumentationContext type

Instrumentation context for debugging and profiling.

Passed to the `instrument` hook of services when instrumentation is enabled.

**Signature:**

```typescript
export type InstrumentationContext = {
    contextId: string;
    contextName: string;
    emit(event: {
        type: string;
        timestamp: number;
        data: Record<string, unknown>;
    }): void;
    register<T>(resource: T, type: string, name?: string): {
        id: string;
        resource: T;
    };
};
```

## Example


```ts
const signalService: ServiceDefinition<'signal', SignalImpl> = {
  name: 'signal',
  impl: createSignal,
  instrument(impl, instr, ctx) {
    return (value) => {
      const { id, resource: signal } = instr.register(impl(value), 'signal');

      // Emit event on creation
      instr.emit({
        type: 'signal:create',
        timestamp: Date.now(),
        data: { id, initialValue: value },
      });

      return signal;
    };
  },
};
```

