---
title: "compose() function"
sidebar:
  label: "compose()"
  order: 0
  badge:
    text: "fn"
    variant: "tip"
---

<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](../../) &gt; [@lattice/lattice](../) &gt; compose

## compose() function

Compose modules into a unified context.

Resolves the dependency graph automatically - you only need to pass the modules you want, and their dependencies are included transitively.

Returns a `use()` function that provides access to the composed context: - `use()` - Returns the context directly - `use(callback)` - Passes the context to callback and returns its result

**Signature:**

```typescript
export declare function compose<TModules extends AnyModule[]>(...modules: TModules): Use<ComposedContext<TModules>>;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

modules


</td><td>

TModules


</td><td>


</td></tr>
</tbody></table>

**Returns:**

[Use](../use/)<!-- -->&lt;[ComposedContext](../composedcontext/)<!-- -->&lt;TModules&gt;&gt;

## Example 1

Basic usage

```ts
import { compose } from '@lattice/lattice';
import { Signal, Computed, Effect } from '@lattice/signals';

const use = compose(Signal, Computed, Effect);
const { signal, computed, effect } = use();

const count = signal(0);
const doubled = computed(() => count() * 2);
effect(() => console.log(doubled()));
```

## Example 2

With instrumentation

```ts
import { compose, createInstrumentation, devtoolsProvider } from '@lattice/lattice';
import { Signal, Computed } from '@lattice/signals';

const use = compose(Signal, Computed, {
  instrumentation: createInstrumentation({
    providers: [devtoolsProvider()],
  }),
});
```

## Example 3

Component pattern

```ts
const Counter = use(({ signal, computed }) => () => {
  const count = signal(0);
  return {
    value: computed(() => count()),
    increment: () => count(c => c + 1),
  };
});
```

