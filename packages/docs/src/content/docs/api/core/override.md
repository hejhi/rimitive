---
title: "override() function"
sidebar:
  label: "override()"
  badge:
    text: "fn"
    variant: "tip"
---

<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](../../) &gt; [@rimitive/core](../) &gt; override

## override() function

Override dependencies of a module.

Creates a new module with the same implementation but different dependencies. Useful for testing (swapping real services for mocks) or environment-specific configurations.

Replacements are matched by the dependency's name. If a replacement module has a different name, it will be aliased to the original dependency's name.

**Signature:**

```typescript
export declare function override<T extends AnyModule, R extends {
    [K in keyof ModuleDeps<T>]?: Module<string, ModuleDeps<T>[K], unknown>;
}>(mod: T, replacements: R): OverriddenModule<ModuleName<T>, ModuleImpl<T>, ModuleDeps<T>, ReplacementsToTuple<R> extends AnyModule[] ? ReplacementsToTuple<R> : never[]>;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

mod


</td><td>

T


</td><td>


</td></tr>
<tr><td>

replacements


</td><td>

R


</td><td>


</td></tr>
</tbody></table>

**Returns:**

[OverriddenModule](../overriddenmodule/)<!-- -->&lt;[ModuleName](../modulename/)<!-- -->&lt;T&gt;, [ModuleImpl](../moduleimpl/)<!-- -->&lt;T&gt;, [ModuleDeps](../moduledeps/)<!-- -->&lt;T&gt;, [ReplacementsToTuple](../replacementstotuple/)<!-- -->&lt;R&gt; extends [AnyModule](../anymodule/)<!-- -->\[\] ? [ReplacementsToTuple](../replacementstotuple/)<!-- -->&lt;R&gt; : never\[\]&gt;

## Example 1

Testing with mocks

```ts
const MockDB = defineModule({
  name: 'db',
  create: () => ({ query: vi.fn() }),
});

const testSvc = compose(override(UserService, { db: MockDB }));
```

## Example 2

Environment-specific dependencies

```ts
const prodSvc = compose(override(App, { logger: CloudLogger }));
const devSvc = compose(override(App, { logger: ConsoleLogger }));
```

