---
title: "defineModule() function"
sidebar:
  label: "defineModule()"
  badge:
    text: "fn"
    variant: "tip"
---

<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](../../) &gt; [@rimitive/core](../) &gt; defineModule

## defineModule() function

Define a module - the fundamental building block of Rimitive composition.

Modules declare dependencies on other modules and provide a create function that receives resolved dependencies and returns the implementation.

**Signature:**

```typescript
export declare function defineModule<TName extends string, TImpl, TDeps>(definition: ModuleDefinition<TName, TImpl, TDeps>): Module<TName, TImpl, TDeps>;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

definition


</td><td>

[ModuleDefinition](../moduledefinition/)<!-- -->&lt;TName, TImpl, TDeps&gt;


</td><td>


</td></tr>
</tbody></table>

**Returns:**

[Module](../module/)<!-- -->&lt;TName, TImpl, TDeps&gt;

## Example 1

Basic module (no dependencies)

```ts
const Logger = defineModule({
  name: 'logger',
  create: () => ({
    log: (msg: string) => console.log(msg),
  }),
});
```

## Example 2

Module with dependencies

```ts
const UserService = defineModule({
  name: 'userService',
  dependencies: [Database, Logger],
  create: ({ database, logger }) => ({
    getUser: (id: string) => {
      logger.log(`Fetching user ${id}`);
      return database.query(`SELECT * FROM users WHERE id = ?`, [id]);
    },
  }),
});
```

## Example 3

Module with instrumentation

```ts
const Signal = defineModule({
  name: 'signal',
  dependencies: [GraphEdges, Scheduler],
  create: ({ graphEdges, scheduler }) => (initialValue) => {
    // ... signal implementation
  },
  instrument: (impl, instr) => (initialValue) => {
    const sig = impl(initialValue);
    instr.register(sig, 'signal');
    return sig;
  },
});
```

