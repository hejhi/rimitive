---
title: "compose() function"
sidebar:
  label: "compose()"
  order: 0
  badge:
    text: "fn"
    variant: "tip"
---

<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](../../) &gt; [@rimitive/core](../) &gt; compose

## compose() function

Compose modules into a unified context.

Resolves the dependency graph automatically - you only need to pass the modules you want, and their dependencies are included transitively.

Returns a `use()` function that provides access to the composed context: - `use()` - Returns the context directly - `use(callback)` - Passes the context to callback and returns its result

**Signature:**

```typescript
export declare function compose<TModules extends AnyModule[]>(...modules: TModules): Use<ComposedContext<TModules>>;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

modules


</td><td>

TModules


</td><td>


</td></tr>
</tbody></table>

**Returns:**

[Use](../use/)<!-- -->&lt;[ComposedContext](../composedcontext/)<!-- -->&lt;TModules&gt;&gt;

## Example 1

Basic usage

```ts
import { compose } from '@rimitive/core';
import { SignalModule, ComputedModule, EffectModule } from '@rimitive/signals/extend';

const svc = compose(SignalModule, ComputedModule, EffectModule);
const { signal, computed, effect } = svc;

const count = signal(0);
const doubled = computed(() => count() * 2);
effect(() => console.log(doubled()));
```

## Example 2

With instrumentation

```ts
import { compose, createInstrumentation, devtoolsProvider } from '@rimitive/core';
import { SignalModule, ComputedModule } from '@rimitive/signals/extend';

const svc = compose(SignalModule, ComputedModule, {
  instrumentation: createInstrumentation({
    providers: [devtoolsProvider()],
  }),
});
```

## Example 3

Behavior pattern

```ts
const counter = (svc) => () => {
  const count = svc.signal(0);
  return {
    value: svc.computed(() => count()),
    increment: () => count(c => c + 1),
  };
};

const useCounter = svc(counter);
const myCounter = useCounter();
```

